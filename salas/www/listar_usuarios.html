<!DOCTYPE HTML>
<html>
<head>
  <title>Listar Usuários</title>
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <meta charset="UTF-8">
</head>
<body><?
require_once 'facade.php';
checkLogin('<p>Haga click <a href="login.html">aquí</a> para iniciar sesión</p>');
?>
  <div id="main">
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <h1><a href="index.html"><span>Clases de computadoras</span></a></h1>
        </div>
      </div>
      <div id="menubar">
        <ul id="menu">
          <li><a href="listar_personas.html">Personas</a></li>
          <li><a href="listar_estudiantes.html">Estudiantes</a></li>
          <li><a href="listar_profesores.html">Profesores</a></li>
          <li><a href="listar_monitores.html">Monitores</a></li>
          <li><a href="listar_clases.html">Clases</a></li>
          <li><a href="listar_inventarios.html">Inventario</a></li>
          <li><a href="listar_usuarios.html">Salónes</a></li>
          <li><a href="listar_objetos_perdidos.html">Objetos Perdidos</a></li>
          <li><a href="listar_impresiones.html">Impresiónes</a></li>
          <li><a href="listar_computadoras.html">Computadoras</a></li>
          <li><a href="listar_softwares.html">Software</a></li>
          <li><a href="listar_tareas.html">Tareas</a></li>
        </ul>
      </div>
    </div>
    <div id="site_content"><a href="logout.html" style="float:right;"><span>Cerrar sesión</span></a>
      <div class="sidebar">

      </div>
      <div id="content">
        <h1>Listar Usuarios</h1>
        <span class="tool_button"><a href="insertar_usuario.html">Nuevo</a></span>
        <table style="width:100%">
          <tr>
            <th>Login</th>
            <th>Tipo</th>
            <th>Acciones</th>
          </tr>
          <?php

//-------------------- PARA EL PHP TENER EN CUENTA LAS INSTRUCCIONES --------------------------------------
// 0. Las variables ejemplo $usuario y $usuarios, deben ser sustituidas por las correspondentes de cada objeto
//---------------------------------------------------------------------------------------------------------

          	require_once 'facade.php';
        	  $res = listarUsuarios();

            if($res["exito"]){
              $usuarios = $res["content"];
              foreach ($usuarios as $usuario) {


    // 1. Poner los vínculos correspondientes

        	    	echo '<tr>
                          <td>'.$usuario->getUsuarioLogin().'</td>
                          <td>'.$usuario->getUsuarioTipo().'</td>
                          <td><a href="consultar_usuario.html?id='.$usuario->getId().'"> Ver </a>
                              <a href="editar_usuario.html?id='.$usuario->getId().'"> Editar </a>
                              <a href="eliminar_usuario.html?id='.$usuario->getId().'"> Eliminar </a>
                          </td>
                      </tr>';

   // ------------- fin de 1 ------------------
        	    }
            }else{
                echo $res["content"];
            }
          ?>
        </table>
      </div>
    </div>
    <div id="footer">
      Salones de compuadora
    </div>
  </div>
</html>
